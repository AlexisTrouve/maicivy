# ============================================================================
# MAICIVY - Environment Configuration
# ============================================================================
# Copy this file to .env and update values for your environment
# IMPORTANT: NEVER commit .env to version control
# ============================================================================

# ============================================================================
# DATABASE - PostgreSQL Configuration
# ============================================================================

# Database connection credentials
DB_USER=maicivy
DB_PASSWORD=dev-password-change-in-prod
DB_NAME=maicivy_db
DB_HOST=postgres
DB_PORT=5432

# SSL mode: disable (dev), require (prod)
DB_SSL_MODE=disable

# Connection pool settings (optional, for production)
DB_MAX_CONNECTIONS=100
DB_MIN_CONNECTIONS=10
DB_CONNECTION_TIMEOUT=30

# ============================================================================
# REDIS - Cache & Session Store Configuration
# ============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis persistence: RDB snapshots interval (seconds)
REDIS_RDB_SAVE_INTERVAL=3600

# ============================================================================
# BACKEND - API Server Configuration
# ============================================================================

# Server settings
SERVER_PORT=8080
SERVER_ENV=development
# Values: development, staging, production

# Server timeouts (milliseconds)
SERVER_READ_TIMEOUT=30000
SERVER_WRITE_TIMEOUT=30000
SERVER_IDLE_TIMEOUT=120000

# CORS configuration (comma-separated URLs)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================================================================
# AI SERVICES - API Keys
# ============================================================================
# SECURITY: Never commit real API keys to version control!
# Generate with: openssl rand -base64 32

# Anthropic Claude API
CLAUDE_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OpenAI GPT-4 API
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# SECURITY - Authentication & Secrets
# ============================================================================

# JWT secret for token signing (generate with: openssl rand -base64 64)
JWT_SECRET=change-this-to-random-64-char-string-in-production

# JWT token expiry times
JWT_ACCESS_EXPIRY=1h
JWT_REFRESH_EXPIRY=168h # 7 days

# Session secret for cookie signing
SESSION_SECRET=change-this-to-random-64-char-string-in-production

# API rate limiting secret key (optional, for signed rate limit tokens)
RATE_LIMIT_SECRET=change-this-to-random-32-char-string

# ============================================================================
# FRONTEND - Next.js Configuration
# ============================================================================

# API endpoint for frontend to call
NEXT_PUBLIC_API_URL=http://localhost:8080

# Node environment
NODE_ENV=development
# Values: development, production

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Prometheus metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================================================
# RATE LIMITING
# ============================================================================

# Global rate limit (requests per minute per IP)
RATE_LIMIT_GLOBAL=100

# AI endpoint rate limit (requests per day per session)
RATE_LIMIT_AI=5

# Cooldown between AI generations (seconds)
AI_GENERATION_COOLDOWN=120

# ============================================================================
# ANALYTICS & TRACKING
# ============================================================================

# Track visitor information
TRACKING_ENABLED=true

# Data retention (days)
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_AGGREGATION_RETENTION_DAYS=365

# ============================================================================
# OPTIONAL FEATURES
# ============================================================================

# GitHub API integration (for auto-importing projects)
GITHUB_API_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Clearbit API (for company info lookup)
CLEARBIT_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# DEVELOPMENT
# ============================================================================

# Enable hot reload / debug mode
DEBUG_MODE=true

# Enable profiling
ENABLE_PROFILING=false

# ============================================================================
# PRODUCTION ONLY
# ============================================================================

# SSL/TLS certificates (for Nginx)
# SSL_CERT_PATH=/etc/letsencrypt/live/domain.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/domain.com/privkey.pem

# Database backup settings
# DB_BACKUP_ENABLED=true
# DB_BACKUP_SCHEDULE=0 2 * * *  # daily at 2 AM UTC

# ============================================================================
