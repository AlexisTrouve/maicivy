# ============================================================================
# MAICIVY Redis Configuration
# ============================================================================

# ============================================================================
# GENERAL
# ============================================================================

# Accept connections from all interfaces
bind 0.0.0.0

# TCP listen port
port 6379

# Close client connection after N seconds of inactivity
timeout 0

# TCP backlog setting
tcp-backlog 511

# Specify the logging verbosity level
# debug, verbose, notice, warning
loglevel notice

# ============================================================================
# PERSISTENCE
# ============================================================================

# Save the DB on disk (RDB snapshots)
# Format: save <seconds> <changes>
# Save if 900 seconds passed and at least 1 key changed
save 900 1
# Save if 300 seconds passed and at least 10 keys changed
save 300 10
# Save if 60 seconds passed and at least 10000 keys changed
save 60 10000

# Compress string objects using LZF when dump .rdb databases
rdbcompression yes

# The filename for the DB
dbfilename dump.rdb

# The working directory
dir /data

# AOF (Append-Only File) - alternative persistence mechanism
appendonly no
# appendonly yes  # Uncomment for AOF in production
# appendfsync everysec  # Write to disk every second

# ============================================================================
# MEMORY MANAGEMENT
# ============================================================================

# Set a memory usage limit
# maxmemory <bytes>
# maxmemory 256mb

# Memory eviction policy when max-memory reached
# Policy: noeviction, allkeys-lru, allkeys-lfu, volatile-lru, volatile-lfu
# maxmemory-policy noeviction

# ============================================================================
# SLOWLOG
# ============================================================================

# Log queries slower than specified microseconds
slowlog-log-slower-than 10000

# Max length of slowlog
slowlog-max-len 128

# ============================================================================
# REPLICATION
# ============================================================================

# Master/replica setup not needed for dev
# Uncomment and configure for replication in production
# replicaof <masterhost> <masterport>
# masterauth <password>

# ============================================================================
